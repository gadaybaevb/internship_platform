{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-4">
    <h2>Редактирование вопроса</h2>
    
    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        
        <h3>Answer Options</h3>
        <div class="formset">
            {{ formset.management_form }}
            {% for answer_form in formset %}
                <div class="form-group">
                    {{ answer_form.text.label_tag }}
                    {{ answer_form.text }}
                    
                    {% if answer_form.fields.sequence_order.widget.attrs.style == 'display:block;' %}
                        {{ answer_form.sequence_order.label_tag }}
                        {{ answer_form.sequence_order }}
                    {% endif %}
                    
                    {% if answer_form.fields.match_pair.widget.attrs.style == 'display:block;' %}
                        {{ answer_form.match_pair.label_tag }}
                        {{ answer_form.match_pair }}
                    {% endif %}
                    
                    {% if answer_form.fields.is_correct.widget.attrs.style == 'display:block;' %}
                        {{ answer_form.is_correct.label_tag }}
                        {{ answer_form.is_correct }}
                    {% endif %}
                    
                    <!-- Exclude the delete field if you want to hide it from the UI -->
                </div>
            {% endfor %}
        </div>
        
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>
{% endblock %}
